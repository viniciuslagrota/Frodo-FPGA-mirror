/*
 * random.c

 *
 *  Created on: 1 de dez de 2019
 *      Author: Vinicius
 */
#include "random.h"

int randombytes(unsigned char* random_array, unsigned long long nbytes)
{
	u32 u32nBytesCount = nbytes;
	u32 u32Random;
	u32 idx = 0;

	printf("Random bytes requested: %d\n", nbytes);

	printf("Random: %x\n", u32Random);

	while(u32nBytesCount > 3)
	{
		u32nBytesCount -= 4;
		u32Random = rand();

		random_array[idx + 0] = u32Random & 0xff;
		random_array[idx + 1] = (u32Random >> 8) & 0xff;
		random_array[idx + 2] = (u32Random >> 16) & 0xff;
		random_array[idx + 3] = (u32Random >> 24) & 0xff;

//		memcpy(&random_array[idx], &u32Random, 4);

		idx += 4;
	}
//
//	if(u32nBytesCount != 0)
//	{
//		memcpy(&random_array[idx], &u32Random, u32nBytesCount);
//	}


	return passed;
}
