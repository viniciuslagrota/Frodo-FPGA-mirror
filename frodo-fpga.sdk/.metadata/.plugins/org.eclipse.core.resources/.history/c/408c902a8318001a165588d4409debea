/*
 * global_def.h
 *
 *  Created on: 25 de nov de 2019
 *      Author: Vinicius
 */

#ifndef SRC_INCLUDE_GLOBAL_DEF_H_
#define SRC_INCLUDE_GLOBAL_DEF_H_

#include <stdio.h>
#include <stdlib.h>
#include "xgpio.h"
#include "xllfifo.h"
#include "xgpio.h"
#include "xil_printf.h"

#include "keccak_f1600.h"
#include "api_frodo640.h"
#include "test_kem.h"
#include "test_KEM640.h"
#include "kem.h"
#include "random.h"
#include "noise.h"

#define ledpin 47

//////////////////////////////////////////////
//
//	Extern
//
//////////////////////////////////////////////
extern uint16_t CDF_TABLE[13] = {4643, 13363, 20579, 25843, 29227, 31145, 32103, 32525, 32689, 32745, 32762, 32766, 32767};
extern uint16_t CDF_TABLE_LEN = 13;

//////////////////////////////////////////////
//
//	Number of iterations
//
//////////////////////////////////////////////
#define KEM_TEST_ITERATIONS			1

//////////////////////////////////////////////
//
//	Keccak definitions
//
//////////////////////////////////////////////
//Software implementation
//#define KeccakF1600_StatePermute 	KeccakF1600_StatePermute_SW
//Hardware implementation
#define KeccakF1600_StatePermute 	KeccakF1600_StatePermute_HW

//////////////////////////////////////////////
//
//	Debug defines
//
//////////////////////////////////////////////
#define DEBUG_GLOBAL_ENABLED 		1
#define DEBUG_ERROR					1
//Main
#define DEBUG_MAIN					1
//Test KEM
#define DEBUG_TEST_KEM				1
//KEM
#define DEBUG_KEM					1
//Keccak_f1600
#define DEBUG_KECCAK_HW				0
#define DEBUG_STATE_MATRIX			0
//Random
#define DEBUG_RANDOM				0
//Noise
#define DEBUG_NOISE					1


//////////////////////////////////////////////
//
//	Debug print
//
//////////////////////////////////////////////
#define print_debug(debugLevel, ...) \
	do { \
		if (DEBUG_GLOBAL_ENABLED && (debugLevel == 1)) \
			printf(__VA_ARGS__); \
		} while (0)

//////////////////////////////////////////////
//
//	AXI GPIO
//
//////////////////////////////////////////////
XGpio axiStartDone;
//XGpio_Config * ConfigPtr0;
XGpio_Config * ConfigPtr1;
XGpio_Config * ConfigPtr2;
XGpio axi_control_timer;
XGpio axi_counter_timer;

//////////////////////////////////////////////
//
//	AXI Stream
//
//////////////////////////////////////////////
XLlFifo fifoKeccak;

//////////////////////////////////////////////
//
//	General defines
//
//////////////////////////////////////////////
#define false						0
#define true						1
#define passed						0
#define failed						1

#endif /* SRC_INCLUDE_GLOBAL_DEF_H_ */
